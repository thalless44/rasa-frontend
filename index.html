<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IFSCBot</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="content header">
            <div class="title"> ProtÃ³tipo do chatbot do IFSC Campus Gaspar </div>
            <div class="capsule"> BETA 1.0 </div>
        </div>
        <div class="content">
            <div class="description">
                <p> Boas-vindas Ã  experiÃªncia de testes do chatbot do IFSC Campus Gaspar. </p>
                <p> Confira o<a target="_blank" href="https://docs.google.com/document/d/1ISLWLUx8ZJFKNENQoNfpJpRw7z72WGvltyw_wYUbd78/edit?usp=sharing"> documento de resumo para a SNCT 2023 </a> </p>
                
                <hr>
                <p> ApÃ³s testar o  chatbot, <a target="_blank" href="https://docs.google.com/forms/d/e/1FAIpQLSfBWH0iIQNVbxDKax6u7LlcHkTyNLEyvfSYY7lnXpzLo0aBzA/viewform"> envie o seu feedback </a> </p>
            </div>
            <div class="obrigado">
                <marquee direction=right hspace="0px"> Obrigado por testar! ðŸ’™ </marquee>
            </div>
        </div>
        <div class="content cue">
            <p id="pergunta-title"> O chatbot estÃ¡ desconectado no momento. Por favor aguarde. </p>
            <p id="pergunta"> </p>
        </div>
    </div>

    <script>!(function () {
        let e = document.createElement("script"),
          t = document.head || document.getElementsByTagName("head")[0];
        (e.src =
          "https://cdn.jsdelivr.net/npm/rasa-webchat@1.0.1/lib/index.js"),
          (e.async = !0),
          (e.onload = () => {
            window.WebChat.default(
              {
                title: "IFSCBot",
                inputTextFieldHint: "digite uma mensagem...",
                initPayload: "/saudar",
                customData: { language: "en" },
                socketUrl: "http://localhost:5005",
                storage: "session",
                onSocketEvent: {
                  'connect': () => connect(),
                }
              },
              null
            );
          }),
          t.insertBefore(e, t.firstChild);
      })();

      function connect() {
        const options = [
          "o campus estÃ¡ aberto hoje?",
          "como faÃ§o para conseguir um atestado de matrÃ­cula?",
          "como faÃ§o cancelamento de matrÃ­cula?",
          "cheguei atrasado",
          "qual o site do campus",
          "como faÃ§o para conseguir um atestado de frequÃªncia?",
          "onde fica o campus gaspar?",
          "conte uma piada"];

        const title = document.getElementById("pergunta-title")
        title.innerHTML = "Para iniciar a conversa, toque no balÃ£o no canto inferior direito. Tente dizer algo como:"

        const text = document.getElementById("pergunta");

        let currentIndex = 0;
        function updateText() {
          text.textContent = '"'+options[currentIndex]+'"';
          currentIndex = (currentIndex + 1) % options.length;
        }
        updateText()

        setInterval(() => {
          text.style.animation = "fadeOut 1s";

          setTimeout(() => {
            updateText();
            text.style.animation = "fadeIn 1s";
          }, 1000);
        }, 6000);
      }
      </script>
</body>
</html>